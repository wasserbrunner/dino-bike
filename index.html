<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dino Bike Path Toy</title>
<style>
  html, body { margin:0; padding:0; height:100%; background:skyblue; }
  body { overflow:hidden; }
  canvas { display:block; width:100vw; height:100vh; touch-action:none; -webkit-user-select:none; user-select:none; -webkit-touch-callout:none; }
  #fullscreenBtn {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 10;
    background: rgba(255,255,255,0.8);
    border: none;
    padding: 8px 12px;
    font-size: 16px;
    border-radius: 6px;
  }
</style>
</head>
<body>
<button id="fullscreenBtn">Fullscreen</button>
<canvas id="game"></canvas>
<script>
// Fullscreen toggle
const fullscreenBtn = document.getElementById('fullscreenBtn');
fullscreenBtn.addEventListener('click', () => {
  if (!document.fullscreenElement) {
    document.documentElement.requestFullscreen().catch(err => console.warn(err));
  } else {
    document.exitFullscreen();
  }
});

// existing game code here...

// ===== Fullscreen controls (appended) =====
(function(){
  const fsBtn = document.getElementById('fsBtn');
  const toastEl = document.getElementById('toast');
  const isIOS = () => /iPad|iPhone|iPod/.test(navigator.userAgent);
  const inFullscreen = () => document.fullscreenElement || document.webkitFullscreenElement;
  function showToast(msg){
    if(!toastEl) return;
    toastEl.textContent = msg;
    toastEl.classList.add('show');
    clearTimeout(showToast._t);
    showToast._t = setTimeout(()=>toastEl.classList.remove('show'), 3000);
  }
  async function enterFullscreen(){
    try{
      if (canvas.requestFullscreen) await canvas.requestFullscreen({ navigationUI: 'hide' });
      else if (canvas.webkitRequestFullscreen) await canvas.webkitRequestFullscreen();
      else throw new Error('noFS');
      if (screen.orientation && screen.orientation.lock){
        screen.orientation.lock('landscape').catch(()=>{});
      }
    }catch(err){
      if (isIOS()){
        showToast('On iPhone/iPad: Share â†’ Add to Home Screen for true full screen.');
      } else {
        showToast('Fullscreen not supported in this browser.');
      }
    }
  }
  function exitFullscreen(){
    if (document.exitFullscreen) document.exitFullscreen();
    else if (document.webkitExitFullscreen) document.webkitExitFullscreen();
  }
  function syncFsButton(){ if (!fsBtn) return; fsBtn.textContent = inFullscreen() ? 'Exit full screen' : 'Full screen'; }
  if (fsBtn){
    fsBtn.addEventListener('click', ()=>{ if (inFullscreen()) exitFullscreen(); else enterFullscreen(); });
  }
  document.addEventListener('fullscreenchange', ()=>{ syncFsButton(); resize(); });
  document.addEventListener('webkitfullscreenchange', ()=>{ syncFsButton(); resize(); });
  syncFsButton();
})();
</script>
</body>
</html>
